pipeline {
    agent any

    tools {
	 maven "MAVEN" 
	 jdk "JDK"
    }

    stages {	
	  stage('Initialize'){
		steps{
		    echo "PATH = ${M2 HOME} /bin: ${PATH}"
		    echo "M2 HOME = /opt/maven"
		}
	  }
	  stage ('Build') {	
		steps {
		    dir("/var/lib/jenkins/workspace/New_demo/my-app/") {
		    sh 'mvn -B -DskipTests clean package"
		    }
		}
	  }
    }
   post {
      always {
         junit ( 
	 allowEmptyResults:Â true,
	 testResults: '*/test-reports/.xml'
	)
	}
   }
}